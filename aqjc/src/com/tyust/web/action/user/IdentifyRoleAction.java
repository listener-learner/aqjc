/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package com.tyust.web.action.user;

import java.io.PrintWriter;
import java.util.List;

import javax.servlet.http.HttpServletRequest;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.apache.struts2.ServletActionContext;

import com.tyust.bean.unit.TBaseUnitRole;
import com.tyust.service.user.RoleService;

/** 
 * MyEclipse Struts
 * Creation date: 07-20-2010
 * 
 * XDoclet definition:
 * @struts.action validate="true"
 */
public class IdentifyRoleAction{
	//角色服务层接口
	private RoleService roleService;
	
	public RoleService getRoleService() {
		return roleService;
	}

	public void setRoleService(RoleService roleService) {
		this.roleService = roleService;
	}

	private static final Log logger = LogFactory
			.getLog(IdentifyRoleAction.class);

	/** 
	 * Method execute
	 */
	public String execute() throws Exception{
		HttpServletRequest request=ServletActionContext.getRequest();
		    PrintWriter out = ServletActionContext.getResponse().getWriter();
		String unitId=request.getParameter("unitId").trim();
		String roleName=request.getParameter("roleName").trim();
		List<TBaseUnitRole> roles=roleService.findAllUnitRole(unitId);
		int flag=0;
		for(TBaseUnitRole role:roles){
			if(roleName.trim().equals(role.getRoleName().trim())){
				 flag=1;
				break;
			} 
			 
		}
		logger.debug(flag);
		out.println(flag);
		return null;
	}
}